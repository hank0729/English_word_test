<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <title>打字速度練習</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- iOS 專用的 PWA Meta 標籤 -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="打字速度練習">

    <!-- 添加 Apple Touch Icon -->
    <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">

    <!-- 設定啟動畫面（可選） -->
    <link rel="apple-touch-startup-image" href="icons/startup.png">

    <!-- PWA Manifest（可選，增加跨平台支援） -->
    <link rel="manifest" href="manifest.json">
</head>


<body>
    <div class="container">
        <h1>打字速度練習</h1>
        <div id="menu">
            <center>
                <button id="startBtn">開始練習</button>
                <button id="viewWordsBtn">查看單字庫</button>
                <button id="instructionsBtn">使用說明</button>
                <button id="viewVersionsBtn">版本詳情</button>
            </center>
        </div>
        
        <div>
            <h5 id="version">版本: 1.0.5</h5>
        </div>

        <div id="settings" class="modal hidden">
            <div class="modal-content">
                <h2>設定選項</h2>
                <div class="settings-section">
                    <label for="categorySelect">選擇分類：</label>
                    <select id="categorySelect">
            </select>
                </div>
                <div class="settings-section">
                    <label for="modeSelect">選擇模式：</label>
                    <select id="modeSelect">
                <option value="wordCount">單字數量</option>
                <option value="timed">計時模式</option>
            </select>
                </div>
                <div class="settings-section" id="wordCountSection">
                    <label for="wordCountInput">單字數量：</label>
                    <input type="number" id="wordCountInput" min="1" max="100" value="10">
                </div>
                <div class="settings-section hidden" id="timedSection">
                    <label for="timeLimitInput">時間限制（秒）：</label>
                    <input type="number" id="timeLimitInput" min="10" max="3600" value="60">
                </div>
                <button id="closeSettingsBtn">關閉</button>
                <button id="confirmSettingsBtn">確認</button>
            </div>
        </div>



        <div id="instructions" class="modal hidden">
            <div class="modal-content">
                <h2>使用說明</h2>
                <p>在開始練習前，請確保已經在 <code>words.json</code> 中新增您想要練習的英文單字及其中文對照。開始練習時，您可以選擇以單字數量或計時模式進行打字測試。已輸入正確的字符會變綠色，錯誤的字符會變紅色，當前待輸入的字符會有藍色底線。當輸入錯誤時，您必須逐字刪除錯誤字符才能繼續輸入。</p>
                <button id="closeInstructionsBtn">關閉</button>
            </div>
        </div>

        <div id="viewWords" class="modal hidden">
            <div class="modal-content">
                <h2>單字庫</h2>
                <div class="settings-section">
                    <label for="viewWordsCategorySelect">選擇分類：</label>
                    <select id="viewWordsCategorySelect">
                    </select>
                </div>
                <ul id="wordsList"></ul>
                <button id="closeViewWordsBtn">關閉</button>
            </div>
        </div>
        

        <div id="testArea" class="hidden">
            <div id="testInfo">
                <span id="wordCount">單字數量: 10</span>
                <span id="timer">時間: 0 秒</span>
                <span id="score">正確率: 0%</span>
                <span id="wpmDisplay">打字速度: 0 WPM</span>
            </div>
            <div id="currentWord">
                <div class="word-section">
                    <p><strong>英文:</strong> <span id="currentEnglish" class="word-display"></span></p>
                    <p><strong>中文:</strong> <span id="currentChinese" class="word-display chinese"></span></p>
                    <input
                    type="text"
                    id="englishInput"
                    placeholder="輸入英文"
                    autocomplete="off"
                    autocorrect="off"
                    autocapitalize="none"
                    spellcheck="false"
                    lang="en"
                    inputmode="latin"
                >
                
                    <small id="inputReminder" class="hint hidden">請切換至英文輸入法</small>
                </div>
            </div>
        </div>


        <div id="result" class="hidden">
            <h2>測試結果</h2>
            <p id="totalTimeLabel">總時間: <span id="totalTime"></span> 秒</p>
            <p id="totalAccuracyLabel">正確率: <span id="totalAccuracy"></span></p>
            <p id="wpmLabel">打字速度: <span id="wpm"></span> (字每分鐘)</p>
            <button id="restartBtn">重新開始</button>
            <button id="homeBtn">回首頁</button>
        </div>
    </div>

    <div id="viewVersions" class="modal hidden iansui">
        <div class="modal-content">
            <h2>版本更新內容</h2>
            <ul id="versionsList"></ul>
            <button id="closeViewVersionsBtn">關閉</button>
        </div>
    </div>

    <footer>
        <p>© 2025 碼上完程 | MSWC 保留所有權利</p>
    </footer>
    <script src="script.js"></script>
</body>

</html>